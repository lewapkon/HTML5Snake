{"ts":1371244933944,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"snake.game = (function() {\n\tvar dom = snake.dom,\n\t\t$ = dom.$;\n\t\n\t// Chowa aktywny ekran i wyświetla ekran o podanym atrybucie id.\n\tfunction showScreen(screenId) {\n\t\tvar activeScreen = $(\"#game .screen.active\")[0],\n\t\t\tscreen = $(\"#\" + screenId)[0];\n\t\tif (activeScreen) {\n\t\t\tdom.removeClass(activeScreen, \"active\");\n\t\t}\n\t\t// Wyodrębnia parametry ekranu z argumentów.\n\t\tvar args = Array.prototype.slice.call(arguments, 1);\n\t\t// Uruchamia moduł ekranu.\n\t\tsnake.screens[screenId].run.apply(\n\t\t\t\tsnake.screens[screenId], args\n\t\t);\n\t\t// Wyświetla ekran.\n\t\tdom.addClass(screen, \"active\");\n\t}\n\tfunction createBackground() {\n\t\tif (!Modernizr.canvas) return;\n\t\tvar canvas = document.createElement(\"canvas\"),\n\t\t\tctx = canvas.getContext(\"2d\"),\n\t\t\tbackground = $(\"#game .background\")[0],\n\t\t\trect = background.getBoundingClientRect(),\n\t\t\tgradient,\n\t\t\ti;\n\t\tcanvas.width = rect.width;\n\t\tcanvas.height = rect.height;\n\t\tctx.scale(rect.width, rect.height);\n\t\tgradient = ctx.createRadialGradient(\n\t\t\t\t0.25, 0.15, 0.5,\n\t\t\t\t0.25, 0.15, 1\n\t\t);\n\t\tgradient.addColorStop(0, \"rgb(55,65,50)\");\n\t\tgradient.addColorStop(1, \"rgb(0,0,0)\");\n\t\tctx.fillStyle = gradient;\n\t\tctx.fillRect(0, 0, 1, 1);\n\t\tctx.strokeStyle = \"rgba(255,255,255,0.02)\";\n\t\tctx.strokeStyle = \"rgba(0,0,0,0.2)\";\n\t\tctx.lineWidth = 0.008;\n\t\tctx.beginPath();\n\t\tfor (i = 0; i < 2; i += 0.020) {\n\t\t\tctx.moveTo(i, 0);\n\t\t\tctx.lineTo(i - 1, 1);\n\t\t}\n\t\tctx.stroke();\n\t\tbackground.appendChild(canvas);\n\t}\n\tfunction setup() {\n        // Wyłącza wbudowane zdarzenie przewijania dotykiem. \n        // Zapobiega przewijaniu strony. \n        dom.bind(document, \"touchmove\", function(event) {\n            event.preventDefault();\n        });\n        // Chowa pasek adresów w Androidzie.\n        if (/Android/.test(navigator.userAgent)) {\n            $(\"html\")[0].style.height = \"200%\";\n            setTimeout(function() {\n                window.scrollTo(0, 1);\n            }, 1);\n        }\n        \n        createBackground();\n    }\n\t// Odsłania metody.\n\treturn {\n\t\tshowScreen : showScreen,\n\t\tsetup : setup\n\t};\n})();"]],"start1":0,"start2":0,"length1":0,"length2":2034}]],"length":2034}
